@{
    var contexto = ViewData["Contexto"]?.ToString() ?? "Juegos";
    var gameId = contexto == "Juegos" ? "fast-math-game" : "fast-math-game-cec";
    var esJuegos = contexto == "Juegos";
    ViewData["Title"] = "Calculo Rapido";
    var dominio = $"{Context.Request.Scheme}://{Context.Request.Host}";
}
<div id="@gameId" class="game-wrapper">
    <div class="vista-cec">
        <h2 id="titleCEC">Calculo <span class="addAzulColor">Rápido</span></h2>
        <div class="grupo-enlaces">
            <a class="btn-secondary btn-play-game">Empezar a jugar</a>
            <p class="descripcion">Pon a prueba tu agilidad mental resolviendo operaciones matemáticas básicas lo más rápido posible. Aparecerán sumas y restas simples que deberás responder.</p>
        </div>

        <div class="figurasCSS">
            <span class="figurita cuadradoVerde relleno"></span>
            <span class="figurita circuloAzul"></span>
            <span class="figurita trianguloLavanda relleno"></span>
            <span class="figurita cuadradoVerde"></span>
            <span class="figurita circuloAzul relleno"></span>
            <span class="figurita triangleLavanda"></span>
        </div>
    </div>

    <div id="countdown" class="countdown hidden">3</div>

    <div class="container hidden" id="game-container">
        <div id="prev-operation" class="operation small"></div>

        <div id="current-line" class="current-line">
            <div id="current-operation" class="operation large">3 + 4 =</div>
            <input type="text" id="answer-input" maxlength="2" autofocus />
        </div>

        <div id="next-operation" class="operation small">5 - 2</div>

        <div id="result-screen" class="hidden vista-cec" style="text-align:center;">
            @if (esJuegos)
            {
                <div class="grupo-enlaces">
                    <a id="ver-resultados-btn" class="btn-secondary btn-play-game" href="@dominio/Juegos/CalculoRapido/Resultados">Ver Resultados</a>
                </div>
            }
            else
            {
                <div class="grupo-enlaces">
                    <a id="ver-resultados-btn" class="btn-secondary btn-play-game" href="@dominio/CalcBrainAge/SigueSecuencia">Siguiente Juego</a>
                </div>
            }
        </div>
    </div>
</div>

<audio id="sound-start" src="/sounds/start.mp3" preload="auto"></audio>
<audio id="sound-correct" src="/sounds/correct.mp3" preload="auto"></audio>
<audio id="sound-end" src="/sounds/end.mp3" preload="auto"></audio>
<style>
    .confetti-canvas {
        position: fixed;
        left: 0;
        top: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        z-index: 9999;
        background: transparent;
    }

</style>
